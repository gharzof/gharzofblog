<!DOCTYPE html>
{% load static %}
<html lang="uz" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="description" content="{% block description %}Gharzof - Full Stack Developer blogi.{% endblock %}">
  <meta name="keywords" content="{% block keywords %}Gharzof, Full Stack Developer, Blog, Django{% endblock %}">
  <meta name="author" content="Gharzof">
  <meta name="robots" content="index, follow">
  <meta property="og:title" content="{% block ogtitle %}Gharzof Blog{% endblock %}">
  <meta property="og:description" content="{% block ogdescription %}Texnologiya, hayot va ilhom haqida maqolalar.{% endblock %}">
  <meta property="og:image" content="{% block ogimage %}{{ request.scheme }}://{{ request.get_host }}{% static 'img/logos.png' %}{% endblock %}">
  <meta property="og:url" content="{{ request.build_absolute_uri }}">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary_large_image">

  <title>{% block title %}{% endblock %}</title>
  <link rel="icon" href="{% static 'img/gharzof.png' %}" />

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Fira+Mono&display=swap" rel="stylesheet" />

  <!-- Custom Theme CSS -->
  <style>
    :root[data-theme='light'] {
      --bg-color: #ffffff;
      --text-color: #000000;
      --nav-bg: #f8f9fa;
      --footer-bg: #343a40;
      --btn-theme: #000;
      --btn-theme-bg: #e0e0e0;
    }

    :root[data-theme='dark'] {
      --bg-color: #121212;
      --text-color: #f1f1f1;
      --nav-bg: #1f1f1f;
      --footer-bg: #000000;
      --btn-theme: #ffffff;
      --btn-theme-bg: #333333;
    }

    body {
      font-family: 'Fira Mono', monospace;
      min-height: 100vh;
      background-color: var(--bg-color);
      color: var(--text-color);
      display: flex;
      flex-direction: column;
      transition: all 0.3s ease;
    }

    nav.navbar {
      background-color: var(--nav-bg) !important;
      transition: background-color 0.3s;
    }

    footer {
      background-color: var(--footer-bg);
      transition: background-color 0.3s;
    }

    .theme-toggle-btn {
      border: none;
      background-color: var(--btn-theme-bg);
      color: var(--btn-theme);
      padding: 6px 12px;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
    }

    .theme-toggle-btn:hover {
      opacity: 0.9;
    }

    main {
      flex: 1;
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg border-bottom shadow-sm">
    <div class="container">
      <a class="navbar-brand fw-bold" href="/">
        <img src="{% static 'img/logos.png' %}" alt="Logo" width="120" class="me-2" />
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        <ul class="navbar-nav align-items-center">
          <li class="nav-item">
            <a class="nav-link" href="/">Blog</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/about">About</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="https://t.me/gharzof">Channel</a>
          </li>
          <li class="nav-item ms-3">
            <button id="toggle-theme" class="theme-toggle-btn">
              <i class="fas fa-moon me-1"></i> Dark Mode
            </button>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="container py-4">
    {% block content %}
    {% endblock %}
  </main>

  <!-- Footer -->
  <footer class="text-white py-4 mt-auto">
    <div class="container text-center">
      <p class="mb-2">Â© 2025 Gharzof</p>
      <div>
        <a href="https://t.me/gharzof" class="text-white me-3 text-decoration-none">
          <i class="fab fa-telegram fa-lg"></i>
        </a>
        <a href="https://youtube.com/@gharzof" class="text-white me-3 text-decoration-none">
          <i class="fab fa-youtube fa-lg"></i>
        </a>
        <a href="https://instagram.com/gharzof" class="text-white text-decoration-none">
          <i class="fab fa-instagram fa-lg"></i>
        </a>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    const toggleBtn = document.getElementById('toggle-theme');
    const htmlTag = document.documentElement;

    // Avvalgi tema tanlovini olish
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme) {
      htmlTag.setAttribute('data-theme', savedTheme);
      updateButton(savedTheme);
    }

    toggleBtn.addEventListener('click', () => {
      const current = htmlTag.getAttribute('data-theme');
      const newTheme = current === 'light' ? 'dark' : 'light';
      htmlTag.setAttribute('data-theme', newTheme);
      localStorage.setItem('theme', newTheme);
      updateButton(newTheme);
    });

    function updateButton(theme) {
      if (theme === 'dark') {
        toggleBtn.innerHTML = '<i class="fas fa-sun me-1"></i> Light Mode';
      } else {
        toggleBtn.innerHTML = '<i class="fas fa-moon me-1"></i> Dark Mode';
      }
    }
  </script>
</body>
</html>
